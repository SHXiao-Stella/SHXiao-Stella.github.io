---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import
    "vendor/breakpoint/breakpoint",

    "themes",
    "theme/default",
    "theme/dark",
    "variables",  

    "include/mixins",
    "vendor/susy/susy",

    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    "layout/page",
    "layout/archive",
    "layout/sidebar",

    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands"
;


// @import url('https://fonts.googleapis.com/css2?family=Lora:wght@0,400;0,700;1,400;1,700&display=swap');
.author__name-en {
  font-family: 'Lora', serif;
  font-style: italic;    /* 斜体 */
  font-weight: 700;
  font-size: 1.25em;
}
// .author__name-en {
//   font-family: "Source Serif 4", serif;
//   font-style: italic;
//   font-weight: 700;
//   font-size: 1.25em;
// }


// .author__name-en {
//     /* 英文名用默认字体或你原来的字体 */
//     font-family: system-ui, sans-serif;
//   }
// .author__name-zh {
//     /* 中文名字单独用 Noto Serif SC */
//     // font-family: 'Noto Serif SC', serif;
//     font-family: KaiTi, '楷体', 'STKaiti', serif;
//     font-size: 1.25em;
// }

// .author__name-zh {
//   font-family: 'Noto Serif SC', 'KaiTi', 'STKaiti', 'Songti SC', 'Microsoft YaHei', serif;
//   font-size: 1.25em;
// }

.author__name-zh {
  font-family: 'Zhi Mang Xing', 'Ma Shan Zheng', 'Noto Serif SC', 'KaiTi', 'STKaiti', 'Songti SC', 'Microsoft YaHei', serif;
  font-size: 1.25em;
}
// 繁体：Klee One ，Yuji Syuku


// 小图标
/* =========================
   Link chips (PDF/Slide/Poster)
   ========================= */
a.chip {
  display: inline-flex;
  align-items: center;
  border-radius: 999px;

  // big 图标
  // padding: 0.18em 0.65em;
  // margin-left: 0.35em;
  // font-size: 0.82em;
  // font-weight: 650;
  // line-height: 1.7;

  // medium 图标
  padding: 0.12em 0.55em;
  margin-left: 0.30em;
  font-size: 0.78em;
  font-weight: 650;
  line-height: 1.55;

  // small 图标
  // padding: 0.08em 0.48em;
  // margin-left: 0.28em;
  // font-weight: 650;
  // font-size: 0.74em;
  // line-height: 1.45;

  border: 1px solid var(--global-border-color);
  background: rgba(0, 0, 0, 0.03);
  // color: var(--global-text-color);
  // color: var(--global-link-color);
  color: var(--chip-color, var(--global-link-color));

  text-decoration: none !important;
  white-space: nowrap;

  transition: transform 0.12s ease, background-color 0.12s ease, border-color 0.12s ease;
}

a.chip:hover {
  transform: translateY(-1px);
  background: rgba(0, 0, 0, 0.06);
  border-color: rgba(0, 0, 0, 0.25);
}

/* 可选：类型微区分（很克制，不会花） */
a.chip--pdf    { }
a.chip--slide  { }
a.chip--poster { }
a.chip-link    { }


/* 让 svg 也继承文字色（font icon 一般不需要） */
a.chip svg { fill: currentColor; }
a.chip i   { color: currentColor; }

/* 保留你站点的蓝 */
a.chip--pdf  { --chip-color: var(--global-link-color); }

/* 红、黄（浅色主题） */
// a.chip--pdf    { --chip-color: #B91C1C; }  /* red-700 */
// a.chip--poster { --chip-color: #B45309; }  /* amber-700 */
a.chip--slide    { --chip-color: #F87171; }  /* red-700 */
// a.chip--slide    { --chip-color: #1ba34f; }  /* red-700 */
a.chip--poster { --chip-color: #dfb037; }  /* amber-700 */
a.chip--link { --chip-color: #1ba34f; }  /* green-700 */

/* 深色主题：用更亮一点，避免暗背景下发灰看不清 */
@media (prefers-color-scheme: dark) {
  a.chip--slide    { --chip-color: #F87171; } /* red-400 */
  a.chip--poster { --chip-color: #FBBF24; } /* amber-400 */
  a.chip--link { --chip-color: #4ADE80; } /* green-400 */
}
html[data-theme="dark"] a.chip--slide, .dark a.chip--slide       { --chip-color: #F87171; }
html[data-theme="dark"] a.chip--poster, .dark a.chip--poster { --chip-color: #FBBF24; }
html[data-theme="dark"] a.chip--link, .dark a.chip--poster { --chip-color: #4ADE80; }


// /* 可选：给外链一个小符号（如果你不喜欢，删掉这一段） */
// a.chip[target="_blank"]::after {
//   content: "↗";
//   margin-left: 0.35em;
//   opacity: 0.55;
//   font-size: 0.9em;
// }



// 导航栏下划线
/* =========================
   Masthead micro-personality: icons + underline
   (Home stays plain)
   ========================= */

/* 1) Home：不显示底部 underline bar */
.greedy-nav .visible-links > li:first-child > a::before {
  display: none;
}

/* 2) 其他项：把默认 underline 变细 + 换成链接色 */
.greedy-nav .visible-links > li:not(:first-child) > a::before {
  height: 2px;
  background: var(--global-link-color);
  opacity: 0.75;
}

/* 3) 给 Research/CV/Note 加“前置小图标”
   注意：主题已经用 ::before 做 underline 了，所以我们用 ::after 放图标 */
.greedy-nav .visible-links > li:not(:first-child) > a {
  position: relative;
  padding-left: 1.15em;  /* 给图标留位置 */
}

.greedy-nav .visible-links > li:not(:first-child) > a::after {
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-52%);
  font-family: "Font Awesome 5 Free";
  font-weight: 900;
  font-size: 0.85em;
  opacity: 0.85;
}

/* 图标按链接地址匹配 */
.greedy-nav .visible-links a[href^="/research/"]::after { content: "\f02d"; } /* book */
.greedy-nav .visible-links a[href^="/cv/"]::after       { content: "\f15c"; } /* file-alt */
.greedy-nav .visible-links a[href^="/note/"]::after     { content: "\f249"; } /* sticky-note */

/* Honor 不加图标（可删） */
.greedy-nav .visible-links a[href^="/honor/"] {
  padding-left: 0;
}
.greedy-nav .visible-links a[href^="/honor/"]::after {
  content: none;
}

/* ===== Fix: only indent items with icons, and align underline to text ===== */

/* 1) 先撤销“所有非 Home 都缩进”的规则（覆盖你之前那条） */
.greedy-nav .visible-links > li:not(:first-child) > a {
  padding-left: 0;
}

/* 2) 仅对需要图标的项缩进，并定义一个统一缩进变量 */
.greedy-nav .visible-links a[href^="/research/"],
.greedy-nav .visible-links a[href^="/cv/"],
.greedy-nav .visible-links a[href^="/note/"] {
  --icon-indent: 1.15em;
  padding-left: var(--icon-indent);
}

/* 3) 让这些项的下划线从“文字起点”开始画，而不是从最左边（含图标区）开始 */
.greedy-nav .visible-links a[href^="/research/"]::before,
.greedy-nav .visible-links a[href^="/cv/"]::before,
.greedy-nav .visible-links a[href^="/note/"]::before {
  left: var(--icon-indent);
  width: calc(100% - var(--icon-indent));
}


// 挪动左右两边的距离
@media (min-width: 925px) {
  // // 右边往右
  // .archive {
  //   padding-left: 5rem !important;
  //   border-left: 1px solid var(--global-border-color);
  // }

  // 左边往左
  .sidebar.sticky{
    margin-left: -2rem !important;   /* 调大：-3rem；调小：-1rem */
  }
}



// 加CV预览框
/* PDF preview block (dark-mode friendly) */
.pdf-block{
  margin: 1rem 0 1.6rem 0;
}

.pdf-head{
  display:flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: .55rem;
}

.pdf-title{
  font-weight: 650;
  font-size: 1.02rem;
}

.pdf-actions{
  display:flex;
  gap: .45rem;
  flex-wrap: wrap;
}

.pdf-frame{
  border: 1px solid var(--global-border-color);
  border-radius: 14px;
  overflow: hidden;
  background: var(--global-bg-color);
  aspect-ratio: 4 / 3;   /* 你也可以改成 16/9 或 3/4 */
}

.pdf-frame iframe{
  width: 100%;
  height: 100%;
  border: 0;
  display:block;
}

.pdf-note{
  margin-top: .45rem;
  font-size: .92rem;
  color: var(--global-text-color);
  opacity: .75;
}

/* 可选：download chip 微区分 */
a.chip--download{
  /* 只改字体颜色也行；你之前在玩蓝红绿/黄，可以继续沿用 */
}
